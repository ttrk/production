#!/bin/bash

#runCmd="/afs/cern.ch/user/k/katatar/code/scripts/myRun.sh"
runCmd=""

set -x

# echo $DBS3_CLIENT_ROOT gives
# /cvmfs/cms.cern.ch/crab3/slc6_amd64_gcc493/cms/dbs3-client/3.5.1//

progCode=${DBS3_CLIENT_ROOT}"/examples/DBS3SetDatasetStatus.py"
#dataset="/ZEE_5TeV_GEN_SIM_PU/katatar-ZEE_5TeV_RECO_753p1-8464e7c32dba41b93ae62574ea53b62c/USER"
#logFile="DBS3SetDatasetStatus_invalid_ZEE_5TeV_GEN_SIM_ZEE_5TeV_RECO_753p1.log"

#dataset="/ParticleGun/katatar-SingleGammaFlatPt10To200_pythia8_step3_753p1-8464e7c32dba41b93ae62574ea53b62c/USER"
#logFile="DBS3SetDatasetStatus_valid_ParticleGun_SingleGammaFlatPt10To200_pythia8_step3_753p1.log"

#dataset="/ParticleGun/katatar-SingleGammaFlatPt10To200_pythia8_step12_753p1-900878243c0911c39eb1d36b043f870b/USER"
#logFile="DBS3SetDatasetStatus_invalid_ParticleGun_SingleGammaFlatPt10To200_pythia8_step12_753p1.log"

#dataset="/Pythia8_TuneCUETP8M1_80_ReggeGribovPartonMC_EposLHC_pPb_4080_4080/katatar-crab_Pythia8_TuneCUETP8M1_80_ReggeGribovPartonMC_EposLHC_pPb_4080_4080-beebbb83eadf2931b128b936aaa80bac/USER"
#logFile="DBS3SetDatasetStatus_invalid_Pythia8_TuneCUETP8M1_80_ReggeGribovPartonMC_EposLHC_pPb_4080_4080.log"

#dataset="/Pythia8_TuneCUETP8M1_120_ReggeGribovPartonMC_EposLHC_pPb_4080_4080/katatar-crab_Pythia8_TuneCUETP8M1_120_ReggeGribovPartonMC_EposLHC_pPb_4080_4080-94c088a2e9b63e5778eb89d2a0e3d55d/USER"
#logFile="DBS3SetDatasetStatus_invalid_Pythia8_TuneCUETP8M1_120_ReggeGribovPartonMC_EposLHC_pPb_4080_4080.log"

#dataset="/Pythia8_TuneCUETP8M1_170_ReggeGribovPartonMC_EposLHC_pPb_4080_4080/katatar-crab_Pythia8_TuneCUETP8M1_170_ReggeGribovPartonMC_EposLHC_pPb_4080_4080-397d85d87e221a900ec5196106c711ae/USER"
#logFile="DBS3SetDatasetStatus_invalid_Pythia8_TuneCUETP8M1_170_ReggeGribovPartonMC_EposLHC_pPb_4080_4080.log"

#dataset="/Pythia8_AllQCDPhoton30_Hydjet_Cymbal_MB/katatar-HiFall15-75X_mcRun2_HeavyIon_v14-v1_RAW2DIGI_L1Reco_RECO_extendEC_pfSC_phiWidth0p15-eedbc4cc139c7cf30455e944ece7e935/USER"
#logFile="DBS3SetDatasetStatus_invalid_Pythia8_AllQCDPhoton30_Hydjet_Cymbal_MB_HiFall15-75X_mcRun2_HeavyIon_v14-v1_RAW2DIGI_L1Reco_RECO_extendEC_pfSC_phiWidth0p15.log"

#dataset="/Pythia8_AllQCDPhoton30_Hydjet_Cymbal_MB/katatar-HiFall15-75X_mcRun2_HeavyIon_v14-v1_RAW2DIGI_L1Reco_RECO_extendEC_pfSC_phiWidth0p30-0a252a5ceb1bd249c77e4e26960d272f/USER"
#logFile="DBS3SetDatasetStatus_invalid_Pythia8_AllQCDPhoton30_Hydjet_Cymbal_MB_HiFall15-75X_mcRun2_HeavyIon_v14-v1_RAW2DIGI_L1Reco_RECO_extendEC_pfSC_phiWidth0p30.log"

#dataset="/Pythia8_AllQCDPhoton30_Hydjet_Cymbal_MB/katatar-HiFall15-75X_mcRun2_HeavyIon_v14-v1_RAW2DIGI_L1Reco_RECO_extendEC_pfSC_phiWidth0p20_EEclusThresh0p5-631bb08d84c9d6a47f4a298ec6a24543/USER"
#logFile="DBS3SetDatasetStatus_invalid_Pythia8_AllQCDPhoton30_Hydjet_Cymbal_MB_HiFall15-75X_mcRun2_HeavyIon_v14-v1_RAW2DIGI_L1Reco_RECO_extendEC_pfSC_phiWidth0p20_EEclusThresh0p5.log"

#dataset="/Pythia8_AllQCDPhoton30_Hydjet_Cymbal_MB/katatar-HiFall15-75X_mcRun2_HeavyIon_v14-v1_RAW2DIGI_L1Reco_RECO_extendEC_pfSC_phiWidth0p20_EEseedThresh2p5_EEclusThresh0p5-77b65c6dd52bfca84204d86644258654/USER"
#logFile="DBS3SetDatasetStatus_invalid_Pythia8_AllQCDPhoton30_Hydjet_Cymbal_MB_HiFall15-75X_mcRun2_HeavyIon_v14-v1_RAW2DIGI_L1Reco_RECO_extendEC_pfSC_phiWidth0p20_EEseedThresh2p5_EEclusThresh0p5.log"

#dataset="/Pythia8_EmEnrichedDijet30_Hydjet_Cymbal_MB/katatar-HiFall15-75X_mcRun2_HeavyIon_v14-v1_RAW2DIGI_L1Reco_RECO_extendEC_pfSC_phiWidth0p15-eedbc4cc139c7cf30455e944ece7e935/USER"
#logFile="DBS3SetDatasetStatus_invalid_Pythia8_EmEnrichedDijet30_Hydjet_Cymbal_MB_HiFall15-75X_mcRun2_HeavyIon_v14-v1_RAW2DIGI_L1Reco_RECO_extendEC_pfSC_phiWidth0p15.log"

dataset="/Pythia8_EmEnrichedDijet30_Hydjet_Cymbal_MB/katatar-HiFall15-75X_mcRun2_HeavyIon_v14-v1_RAW2DIGI_L1Reco_RECO_extendEC_pfSC_phiWidth0p30-0a252a5ceb1bd249c77e4e26960d272f/USER"
logFile="DBS3SetDatasetStatus_invalid_Pythia8_EmEnrichedDijet30_Hydjet_Cymbal_MB_HiFall15-75X_mcRun2_HeavyIon_v14-v1_RAW2DIGI_L1Reco_RECO_extendEC_pfSC_phiWidth0p30.log"

${runCmd} python ${progCode} --url=https://cmsweb.cern.ch/dbs/prod/phys03/DBSWriter --status=invalid --recursive=False  --dataset=${dataset} &> ${logFile}

